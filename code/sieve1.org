#+TITLE: Sieve Code for Term Paper

#+BEGIN_SRC python :session
def eratosthenes(n):
    composites = set()
    for i in range(2, n+1):
        if i not in composites:
            yield i
            composites.update(range(i**2, n+1, i))
#+END_SRC

#+RESULTS:

#+BEGIN_SRC python :session
list(eratosthenes(100))
#+END_SRC

#+RESULTS:
| 2 | 3 | 5 | 7 | 11 | 13 | 17 | 19 | 23 | 29 | 31 | 37 | 41 | 43 | 47 | 53 | 59 | 61 | 67 | 71 | 73 | 79 | 83 | 89 | 97 |

#+BEGIN_SRC python :session
import time
def time_algo(algo, n):
    start = time.time()
    list(algo(n))
    end = time.time()
    return end-start

#+END_SRC

#+RESULTS:

#+BEGIN_SRC python :session
time_algo(eratosthenes, 100)
#+END_SRC

#+RESULTS:
: 1.00135803223e-05

#+BEGIN_SRC python :session
def time_trial(algo, iterbl):
    avgtimes = []
    for i in iterbl:
        totaltime = 0
        for j in range(50):
            totaltime += time_algo(algo, i)
        avgtimes.append(totaltime/50)
    return [iterbl, avgtimes]
#+END_SRC

#+RESULTS:

#+BEGIN_SRC python :session
time_trial(eratosthenes, range(1000, 100000, 1000))
#+END_SRC

#+name: table
#+RESULTS:
|  1000 | 0.0006204938888549805 |
|  2000 | 0.0012402725219726562 |
|  3000 | 0.0018289232254028321 |
|  4000 |  0.002449159622192383 |
|  5000 | 0.0030922508239746094 |
|  6000 | 0.0036451339721679686 |
|  7000 |  0.004556894302368164 |
|  8000 |  0.005112013816833496 |
|  9000 | 0.0058802938461303715 |
| 10000 |  0.006410918235778809 |
| 11000 |  0.007019548416137695 |
| 12000 |  0.007715458869934082 |
| 13000 |  0.008403992652893067 |
| 14000 |   0.00897909641265869 |
| 15000 |  0.009646291732788087 |
| 16000 |  0.010297346115112304 |
| 17000 |  0.011029839515686035 |
| 18000 |  0.011598925590515136 |
| 19000 |  0.012266755104064941 |
| 20000 |  0.013046073913574218 |
| 21000 |  0.013979396820068359 |
| 22000 |  0.014318461418151856 |
| 23000 |  0.015232591629028321 |
| 24000 |  0.015769972801208496 |
| 25000 |   0.01741681098937988 |
| 26000 |  0.018053174018859863 |
| 27000 |   0.01876530170440674 |
| 28000 |   0.01966792583465576 |
| 29000 |  0.020153083801269532 |
| 30000 |   0.02087478160858154 |
| 31000 |  0.021394681930541993 |
| 32000 |  0.022184123992919923 |
| 33000 |  0.022851037979125976 |
| 34000 |  0.023622760772705077 |
| 35000 |   0.02414520740509033 |
| 36000 |  0.024923005104064942 |
| 37000 |  0.025578861236572267 |
| 38000 |   0.02637303829193115 |
| 39000 |  0.027243900299072265 |
| 40000 |  0.027931323051452638 |
| 41000 |  0.028461737632751463 |
| 42000 |  0.029194164276123046 |
| 43000 |  0.030110106468200684 |
| 44000 |  0.030752925872802733 |
| 45000 |   0.03127076148986816 |
| 46000 |   0.03209580898284912 |
| 47000 |   0.03767722606658935 |
| 48000 |   0.03535704135894775 |
| 49000 |  0.035558767318725586 |
| 50000 |   0.03677845478057861 |
| 51000 |  0.037914824485778806 |
| 52000 |   0.03884580135345459 |
| 53000 |  0.040005664825439456 |
| 54000 |    0.0410725212097168 |
| 55000 |   0.04195728778839111 |
| 56000 |   0.04331957340240478 |
| 57000 |   0.04461510181427002 |
| 58000 |   0.04565912246704101 |
| 59000 |   0.04721619606018066 |
| 60000 |   0.04777389526367187 |
| 61000 |   0.04933491706848145 |
| 62000 |  0.050052223205566404 |
| 63000 |   0.05144604682922363 |
| 64000 |  0.052462005615234376 |
| 65000 |   0.05336606025695801 |
| 66000 |   0.05460372447967529 |
| 67000 |   0.05560472965240479 |
| 68000 |   0.05693681240081787 |
| 69000 |   0.05770868301391602 |
| 70000 |   0.05915668487548828 |
| 71000 |  0.060145816802978515 |
| 72000 |   0.06130792140960693 |
| 73000 |   0.06287449836730957 |
| 74000 |   0.06451545238494873 |
| 75000 |   0.06578813552856445 |
| 76000 |   0.06662975788116456 |
| 77000 |   0.06756335258483886 |
| 78000 |   0.06874766826629639 |
| 79000 |   0.06995229244232178 |
| 80000 |   0.07144810199737549 |
| 81000 |   0.07272812366485595 |
| 82000 |   0.07343842506408692 |
| 83000 |   0.07447246551513671 |
| 84000 |   0.07581564903259277 |
| 85000 |    0.0764389705657959 |
| 86000 |   0.07788610935211182 |
| 87000 |   0.07924787521362305 |
| 88000 |   0.08003894329071044 |
| 89000 |   0.08123160362243652 |
| 90000 |   0.08260021209716797 |
| 91000 |   0.08378377437591553 |
| 92000 |   0.08474624156951904 |
| 93000 |    0.0862812328338623 |
| 94000 |   0.08709643840789795 |
| 95000 |   0.08827361583709717 |
| 96000 |   0.08962028026580811 |
| 97000 |   0.09392363548278809 |
| 98000 |   0.09457951068878173 |
| 99000 |   0.09566825866699219 |



This table needs to be transposed pre-gnuplot.


#+BEGIN_SRC gnuplot :var data=table :file erat.png
reset
plot data using 1:2 with lines title 'Running Time (seconds)';
#+END_SRC

#+RESULTS:
[[file:erat.png]]

function to match: 1/244347 x log log x

#+BEGIN_SRC python :session
from math import log
def fitfcn(x):
    return x*log(log(x))/(2443470.5)
#+END_SRC

#+RESULTS:

#+BEGIN_SRC python :session
fitfcn(100000)

#+END_SRC

#+RESULTS:
: 0.0999999941756

#+BEGIN_SRC python :session
def fitfcn_trial():
    output = []
    input = range(1000, 100000, 1000)
    for i in input:
        output.append(fitfcn(i))
    return [input, output]
#+END_SRC

#+RESULTS:

#+BEGIN_SRC python :session
fitfcn_trial()
#+END_SRC

#+name: table2
#+RESULTS:
|  1000 | 0.0007909425278169167 |
|  2000 |  0.001660152627109093 |
|  3000 | 0.0025540359554647196 |
|  4000 |  0.003463169859211337 |
|  5000 |  0.004383287723214843 |
|  6000 |  0.005311954242223594 |
|  7000 |   0.00624759775963545 |
|  8000 |  0.007189122157302274 |
|  9000 |   0.00813572069202879 |
| 10000 |  0.009086775577474115 |
| 11000 |   0.01004179908066431 |
| 12000 |  0.011000396715431331 |
| 13000 |  0.011962243075815834 |
| 14000 |  0.012927065322578118 |
| 15000 |  0.013894631521917257 |
| 16000 |  0.014864742180261159 |
| 17000 |  0.015837223953072632 |
| 18000 |  0.016811924873679645 |
| 19000 |  0.017788710670456478 |
| 20000 |   0.01876746187964339 |
| 21000 |   0.01974807155057725 |
| 22000 |   0.02073044339925775 |
| 23000 |  0.021714490306192186 |
| 24000 |  0.022700133082102274 |
| 25000 |   0.02368729944452474 |
| 26000 |   0.02467592316225421 |
| 27000 |  0.025665943334687524 |
| 28000 |  0.026657303780577398 |
| 29000 |  0.027649952516261213 |
| 30000 |  0.028643841307626376 |
| 31000 |  0.029638925283275674 |
| 32000 |  0.030635162598824033 |
| 33000 |   0.03163251414417798 |
| 34000 |   0.03263094328715606 |
| 35000 |   0.03363041564799991 |
| 36000 |   0.03463089890027636 |
| 37000 |  0.035632362594432684 |
| 38000 |  0.036634778000884015 |
| 39000 |   0.03763811797001253 |
| 40000 |  0.038642356806868006 |
| 41000 |   0.03964747015869643 |
| 42000 |   0.04065343491370161 |
| 43000 |   0.04166022910967721 |
| 44000 |   0.04266783185133869 |
| 45000 |   0.04367622323534796 |
| 46000 |   0.04468538428215937 |
| 47000 |  0.045695296873931326 |
| 48000 |   0.04670594369784611 |
| 49000 |   0.04771730819426347 |
| 50000 |   0.04872937450920568 |
| 51000 |   0.04974212745073228 |
| 52000 |   0.05075555244881641 |
| 53000 |   0.05176963551837909 |
| 54000 |   0.05278436322517839 |
| 55000 |   0.05379972265428376 |
| 56000 |  0.054815701380896385 |
| 57000 |   0.05583228744330183 |
| 58000 |   0.05684946931776474 |
| 59000 |  0.057867235895194796 |
| 60000 |   0.05888557645943101 |
| 61000 |   0.05990448066700714 |
| 62000 |   0.06092393852827442 |
| 63000 |   0.06194394038977003 |
| 64000 |   0.06296447691773081 |
| 65000 |   0.06398553908266086 |
| 66000 |    0.0650071181448705 |
| 67000 |   0.06602920564091182 |
| 68000 |   0.06705179337084237 |
| 69000 |   0.06807487338625517 |
| 70000 |   0.06909843797901837 |
| 71000 |   0.07012247967067313 |
| 72000 |   0.07114699120244211 |
| 73000 |   0.07217196552580592 |
| 74000 |   0.07319739579360744 |
| 75000 |    0.0742232753516479 |
| 76000 |   0.07524959773074134 |
| 77000 |   0.07627635663919671 |
| 78000 |   0.07730354595569928 |
| 79000 |   0.07833115972256534 |
| 80000 |   0.07935919213934618 |
| 81000 |     0.080387637556759 |
| 82000 |   0.08141649047092431 |
| 83000 |   0.08244574551789073 |
| 84000 |    0.0834753974684296 |
| 85000 |    0.0845054412230829 |
| 86000 |   0.08553587180744966 |
| 87000 |   0.08656668436769631 |
| 88000 |   0.08759787416627815 |
| 89000 |   0.08862943657785961 |
| 90000 |   0.08966136708542206 |
| 91000 |   0.09069366127654824 |
| 92000 |   0.09172631483987399 |
| 93000 |   0.09275932356169732 |
| 94000 |   0.09379268332273687 |
| 95000 |   0.09482639009503117 |
| 96000 |    0.0958604399389715 |
| 97000 |    0.0968948290004611 |
| 98000 |   0.09792955350819388 |
| 99000 |    0.0989646097710472 |


#+name: table3
#+RESULTS:
|  1000 | 0.0007909425278169167 | 0.0006204938888549805 |
|  2000 |  0.001660152627109093 | 0.0012402725219726562 |
|  3000 | 0.0025540359554647196 | 0.0018289232254028321 |
|  4000 |  0.003463169859211337 |  0.002449159622192383 |
|  5000 |  0.004383287723214843 | 0.0030922508239746094 |
|  6000 |  0.005311954242223594 | 0.0036451339721679686 |
|  7000 |   0.00624759775963545 |  0.004556894302368164 |
|  8000 |  0.007189122157302274 |  0.005112013816833496 |
|  9000 |   0.00813572069202879 | 0.0058802938461303715 |
| 10000 |  0.009086775577474115 |  0.006410918235778809 |
| 11000 |   0.01004179908066431 |  0.007019548416137695 |
| 12000 |  0.011000396715431331 |  0.007715458869934082 |
| 13000 |  0.011962243075815834 |  0.008403992652893067 |
| 14000 |  0.012927065322578118 |   0.00897909641265869 |
| 15000 |  0.013894631521917257 |  0.009646291732788087 |
| 16000 |  0.014864742180261159 |  0.010297346115112304 |
| 17000 |  0.015837223953072632 |  0.011029839515686035 |
| 18000 |  0.016811924873679645 |  0.011598925590515136 |
| 19000 |  0.017788710670456478 |  0.012266755104064941 |
| 20000 |   0.01876746187964339 |  0.013046073913574218 |
| 21000 |   0.01974807155057725 |  0.013979396820068359 |
| 22000 |   0.02073044339925775 |  0.014318461418151856 |
| 23000 |  0.021714490306192186 |  0.015232591629028321 |
| 24000 |  0.022700133082102274 |  0.015769972801208496 |
| 25000 |   0.02368729944452474 |   0.01741681098937988 |
| 26000 |   0.02467592316225421 |  0.018053174018859863 |
| 27000 |  0.025665943334687524 |   0.01876530170440674 |
| 28000 |  0.026657303780577398 |   0.01966792583465576 |
| 29000 |  0.027649952516261213 |  0.020153083801269532 |
| 30000 |  0.028643841307626376 |   0.02087478160858154 |
| 31000 |  0.029638925283275674 |  0.021394681930541993 |
| 32000 |  0.030635162598824033 |  0.022184123992919923 |
| 33000 |   0.03163251414417798 |  0.022851037979125976 |
| 34000 |   0.03263094328715606 |  0.023622760772705077 |
| 35000 |   0.03363041564799991 |   0.02414520740509033 |
| 36000 |   0.03463089890027636 |  0.024923005104064942 |
| 37000 |  0.035632362594432684 |  0.025578861236572267 |
| 38000 |  0.036634778000884015 |   0.02637303829193115 |
| 39000 |   0.03763811797001253 |  0.027243900299072265 |
| 40000 |  0.038642356806868006 |  0.027931323051452638 |
| 41000 |   0.03964747015869643 |  0.028461737632751463 |
| 42000 |   0.04065343491370161 |  0.029194164276123046 |
| 43000 |   0.04166022910967721 |  0.030110106468200684 |
| 44000 |   0.04266783185133869 |  0.030752925872802733 |
| 45000 |   0.04367622323534796 |   0.03127076148986816 |
| 46000 |   0.04468538428215937 |   0.03209580898284912 |
| 47000 |  0.045695296873931326 |   0.03767722606658935 |
| 48000 |   0.04670594369784611 |   0.03535704135894775 |
| 49000 |   0.04771730819426347 |  0.035558767318725586 |
| 50000 |   0.04872937450920568 |   0.03677845478057861 |
| 51000 |   0.04974212745073228 |  0.037914824485778806 |
| 52000 |   0.05075555244881641 |   0.03884580135345459 |
| 53000 |   0.05176963551837909 |  0.040005664825439456 |
| 54000 |   0.05278436322517839 |    0.0410725212097168 |
| 55000 |   0.05379972265428376 |   0.04195728778839111 |
| 56000 |  0.054815701380896385 |   0.04331957340240478 |
| 57000 |   0.05583228744330183 |   0.04461510181427002 |
| 58000 |   0.05684946931776474 |   0.04565912246704101 |
| 59000 |  0.057867235895194796 |   0.04721619606018066 |
| 60000 |   0.05888557645943101 |   0.04777389526367187 |
| 61000 |   0.05990448066700714 |   0.04933491706848145 |
| 62000 |   0.06092393852827442 |  0.050052223205566404 |
| 63000 |   0.06194394038977003 |   0.05144604682922363 |
| 64000 |   0.06296447691773081 |  0.052462005615234376 |
| 65000 |   0.06398553908266086 |   0.05336606025695801 |
| 66000 |    0.0650071181448705 |   0.05460372447967529 |
| 67000 |   0.06602920564091182 |   0.05560472965240479 |
| 68000 |   0.06705179337084237 |   0.05693681240081787 |
| 69000 |   0.06807487338625517 |   0.05770868301391602 |
| 70000 |   0.06909843797901837 |   0.05915668487548828 |
| 71000 |   0.07012247967067313 |  0.060145816802978515 |
| 72000 |   0.07114699120244211 |   0.06130792140960693 |
| 73000 |   0.07217196552580592 |   0.06287449836730957 |
| 74000 |   0.07319739579360744 |   0.06451545238494873 |
| 75000 |    0.0742232753516479 |   0.06578813552856445 |
| 76000 |   0.07524959773074134 |   0.06662975788116456 |
| 77000 |   0.07627635663919671 |   0.06756335258483886 |
| 78000 |   0.07730354595569928 |   0.06874766826629639 |
| 79000 |   0.07833115972256534 |   0.06995229244232178 |
| 80000 |   0.07935919213934618 |   0.07144810199737549 |
| 81000 |     0.080387637556759 |   0.07272812366485595 |
| 82000 |   0.08141649047092431 |   0.07343842506408692 |
| 83000 |   0.08244574551789073 |   0.07447246551513671 |
| 84000 |    0.0834753974684296 |   0.07581564903259277 |
| 85000 |    0.0845054412230829 |    0.0764389705657959 |
| 86000 |   0.08553587180744966 |   0.07788610935211182 |
| 87000 |   0.08656668436769631 |   0.07924787521362305 |
| 88000 |   0.08759787416627815 |   0.08003894329071044 |
| 89000 |   0.08862943657785961 |   0.08123160362243652 |
| 90000 |   0.08966136708542206 |   0.08260021209716797 |
| 91000 |   0.09069366127654824 |   0.08378377437591553 |
| 92000 |   0.09172631483987399 |   0.08474624156951904 |
| 93000 |   0.09275932356169732 |    0.0862812328338623 |
| 94000 |   0.09379268332273687 |   0.08709643840789795 |
| 95000 |   0.09482639009503117 |   0.08827361583709717 |
| 96000 |    0.0958604399389715 |   0.08962028026580811 |
| 97000 |    0.0968948290004611 |   0.09392363548278809 |
| 98000 |   0.09792955350819388 |   0.09457951068878173 |
| 99000 |    0.0989646097710472 |   0.09566825866699219 |

#+BEGIN_SRC gnuplot :var data=table3 :file erat3.png :results output
reset
plot data using 1:2 with lines title 'f(x)', \
     data using 1:3 with lines title 'Running time (seconds)';
#+END_SRC

#+RESULTS:
[[file:erat3.png]]

